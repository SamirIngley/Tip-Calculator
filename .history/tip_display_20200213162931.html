<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="style.css" rel="stylesheet">
    <title>Tip Calculator</title>
</head>
<body>

    <form id='form' class='form'>
        <div class='title'>
            <h1>Tippy</h1>
        </div>
        <div class='bill'>
            <label>Bill</label><br>
            <input id='bill' type="number" name="bill" placeholder="$">
        </div>  
        <div class='tip'>
            <label>Tip %</label><br>
            <input id='tip' type="number" name="tip" placeholder="%">
        </div>
        <div class='numppl'>
            <label>People</label><br>
            <input id='numppl' type="number" name="numppl" placeholder="#">
        </div>
        <div class='submit'><br>
            <input type="submit" name="submit" value="Submit">
        </div>
       

        <div id='total-display' class="total-disp">
            Total:
        </div>

        <div id='tip-display' class="tip-disp">
            Tip: 
        </div>

        <div id='total-pp-display' class="pp-disp">
            Each: 
        </div>    

    </form>
    
</body>

   

    <script> 

        const inputBill = document.getElementById('bill')
        const inputTip = document.getElementById('tip')
        const inputNumppl = document.getElementById('numppl')
        const form = document.getElementById('form')
        const displayTip = document.getElementById('tip-display')
        const displayTotal = document.getElementById('total-display')
        const displayTotalPP = document.getElementById('total-pp-display')


        function calculateTip() {

            const bill = parseInt(inputBill.value)
            const people = inputNumppl.value 
            const percent = inputTip.value
            const tip = bill * percent / 100
            const total = bill + tip
            const totalPP = total / people
            console.log(bill)
            console.log(percent)
            console.log(total)
            console.log(tip)
            console.log(people)
            console.log(totalPP)

            displayTotal.innerHTML = `Total: $${total.toFixed(2)}`
            displayTip.innerHTML = `Tip: $${tip.toFixed(2)}`
            displayTotalPP.innerHTML = `Each: $${totalPP.toFixed(2)}`
        }

        form.addEventListener('input', updateBill)
        function updateBill(e) {
            const newBill = parseFloat(e.target.value)
            if (!isNaN(newBill)) {
                bill = newBill 
            } else {
                e.target.value = bill
            }
            calculateTip()
        }

        form.addEventListener('input', updateTip)
        function updateTip(e) {
            const newTip = parseFloat(e.target.value)
            if (!isNaN(newTip)) {
                tip = newTip
            } else {
                e.target.value = tip
            }
            calculateTip()
        }

        form.addEventListener('input', updatePercent)
        function updatePercent(e) {
            const newPercent = parseFloat(e.target.value)
            if (!isNaN(newPercent)) {
                percent = newPercent 
            } else {
                e.target.value = percent
            }
            calculateTip()
        }

        form.addEventListener("submit", function(e) {
            e.preventDefault()
            calculateTip()
        }) 

        // inputBill.addEventListnener('change', function(e) {
        //     console.log(inputBill.value)
        //     const newBillAMount = parseFloat(e.target.value)

        // })

    </script>



</body>
</html>